{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "definitions": {
    "zed-editor-action": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "app_menu::ActivateMenuLeft",
            "app_menu::ActivateMenuRight",
            "assistant2::AcceptSuggestedContext",
            "assistant2::Chat",
            "assistant2::ChatMode",
            "assistant2::FocusDown",
            "assistant2::FocusLeft",
            "assistant2::FocusRight",
            "assistant2::FocusUp",
            "assistant2::NewThread",
            "assistant2::OpenHistory",
            "assistant2::RemoveAllContext",
            "assistant2::RemoveFocusedContext",
            "assistant2::RemoveSelectedThread",
            "assistant2::ToggleContextPicker",
            "assistant2::ToggleModelSelector",
            "assistant::Assist",
            "assistant::ConfirmCommand",
            "assistant::CopyCode",
            "assistant::CycleMessageRole",
            "assistant::CycleNextInlineAssist",
            "assistant::CyclePreviousInlineAssist",
            "assistant::DeployHistory",
            "assistant::DeployPromptLibrary",
            "assistant::Edit",
            "assistant::InlineAssist",
            "assistant::InsertIntoEditor",
            "assistant::NewChat",
            "assistant::QuoteSelection",
            "assistant::Split",
            "assistant::ToggleFocus",
            "assistant::ToggleModelSelector",
            "branches::OpenRecent",
            "buffer_search::Deploy",
            "buffer_search::DeployReplace",
            "buffer_search::Dismiss",
            "buffer_search::FocusEditor",
            "channel_modal::ToggleMode",
            "collab_panel::InsertSpace",
            "collab_panel::Remove",
            "collab_panel::ToggleFocus",
            "command_palette::Toggle",
            "diagnostics::Deploy",
            "edit_prediction::RateCompletions",
            "edit_prediction::ToggleMenu",
            "editor::AcceptEditPrediction",
            "editor::AcceptPartialEditPrediction",
            "editor::AddSelectionAbove",
            "editor::AddSelectionBelow",
            "editor::ApplyAllDiffHunks",
            "editor::ApplyDiffHunk",
            "editor::Backspace",
            "editor::Cancel",
            "editor::ComposeCompletion",
            "editor::ConfirmCodeAction",
            "editor::ConfirmCompletion",
            "editor::ConfirmRename",
            "editor::ContextMenuFirst",
            "editor::ContextMenuLast",
            "editor::ContextMenuNext",
            "editor::ContextMenuPrev",
            "editor::Copy",
            "editor::CopyPath",
            "editor::Cut",
            "editor::CutToEndOfLine",
            "editor::Delete",
            "editor::DeleteLine",
            "editor::DeleteToNextSubwordEnd",
            "editor::DeleteToNextWordEnd",
            "editor::DeleteToPreviousSubwordStart",
            "editor::DeleteToPreviousWordStart",
            "editor::DisplayCursorNames",
            "editor::DuplicateLineDown",
            "editor::DuplicateLineUp",
            "editor::ExpandAllDiffHunks",
            "editor::ExpandExcerpts",
            "editor::FindAllReferences",
            "editor::Fold",
            "editor::FoldAll",
            "editor::FoldRecursive",
            "editor::Format",
            "editor::GoToDefinition",
            "editor::GoToDefinitionSplit",
            "editor::GoToDiagnostic",
            "editor::GoToHunk",
            "editor::GoToImplementation",
            "editor::GoToPrevDiagnostic",
            "editor::GoToPrevHunk",
            "editor::GoToTypeDefinition",
            "editor::GoToTypeDefinitionSplit",
            "editor::Hover",
            "editor::Indent",
            "editor::JoinLines",
            "editor::LineDown",
            "editor::LineUp",
            "editor::MoveDown",
            "editor::MoveLeft",
            "editor::MoveLineDown",
            "editor::MoveLineUp",
            "editor::MovePageDown",
            "editor::MovePageUp",
            "editor::MoveRight",
            "editor::MoveToBeginning",
            "editor::MoveToEnclosingBracket",
            "editor::MoveToEnd",
            "editor::MoveToNextSubwordEnd",
            "editor::MoveToNextWordEnd",
            "editor::MoveToPreviousSubwordStart",
            "editor::MoveToPreviousWordStart",
            "editor::MoveUp",
            "editor::Newline",
            "editor::NewlineAbove",
            "editor::NewlineBelow",
            "editor::NextEditPrediction",
            "editor::OpenContextMenu",
            "editor::OpenExcerpts",
            "editor::OpenExcerptsSplit",
            "editor::OpenSelectionsInMultibuffer",
            "editor::Outdent",
            "editor::PageDown",
            "editor::PageUp",
            "editor::Paste",
            "editor::PreviousEditPrediction",
            "editor::Redo",
            "editor::RedoSelection",
            "editor::Rename",
            "editor::RevealInFileManager",
            "editor::Rewrap",
            "editor::SelectAll",
            "editor::SelectAllMatches",
            "editor::SelectDown",
            "editor::SelectEnclosingSymbol",
            "editor::SelectLargerSyntaxNode",
            "editor::SelectLeft",
            "editor::SelectLine",
            "editor::SelectPageDown",
            "editor::SelectPageUp",
            "editor::SelectRight",
            "editor::SelectSmallerSyntaxNode",
            "editor::SelectToBeginning",
            "editor::SelectToEnd",
            "editor::SelectToNextSubwordEnd",
            "editor::SelectToNextWordEnd",
            "editor::SelectToPreviousSubwordStart",
            "editor::SelectToPreviousWordStart",
            "editor::SelectUp",
            "editor::ShowCharacterPalette",
            "editor::ShowCompletions",
            "editor::ShowEditPrediction",
            "editor::ShowSignatureHelp",
            "editor::Tab",
            "editor::TabPrev",
            "editor::ToggleCodeActions",
            "editor::ToggleEditPrediction",
            "editor::ToggleFold",
            "editor::ToggleGitBlame",
            "editor::ToggleInlayHints",
            "editor::ToggleLineNumbers",
            "editor::ToggleSelectedDiffHunks",
            "editor::ToggleSoftWrap",
            "editor::Undo",
            "editor::UndoSelection",
            "editor::UnfoldAll",
            "editor::UnfoldLines",
            "editor::UnfoldRecursive",
            "file_finder::SelectPrev",
            "file_finder::Toggle",
            "git::Commit",
            "git::Restore",
            "git::StageAll",
            "git::StageAndNext",
            "git::ToggleStaged",
            "git::UnstageAll",
            "git::UnstageAndNext",
            "git_panel::FocusChanges",
            "git_panel::FocusEditor",
            "git_panel::ToggleFocus",
            "go_to_line::Toggle",
            "language_selector::Toggle",
            "markdown::Copy",
            "markdown::OpenPreview",
            "markdown::OpenPreviewToTheSide",
            "menu::Cancel",
            "menu::Confirm",
            "menu::Restart",
            "menu::SecondaryConfirm",
            "menu::SelectFirst",
            "menu::SelectLast",
            "menu::SelectNext",
            "menu::SelectPrev",
            "outline::Toggle",
            "outline_panel::CollapseSelectedEntry",
            "outline_panel::CopyPath",
            "outline_panel::ExpandSelectedEntry",
            "outline_panel::Open",
            "outline_panel::RevealInFileManager",
            "outline_panel::ToggleFocus",
            "pane::ActivateLastItem",
            "pane::ActivateNextItem",
            "pane::ActivatePrevItem",
            "pane::CloseActiveItem",
            "pane::DeploySearch",
            "pane::GoBack",
            "pane::GoForward",
            "pane::ReopenClosedItem",
            "pane::RevealInProjectPanel",
            "pane::SplitDown",
            "pane::SplitLeft",
            "pane::SplitRight",
            "pane::SplitUp",
            "pane::SwapItemLeft",
            "pane::SwapItemRight",
            "pane::TogglePinTab",
            "picker::ConfirmCompletion",
            "project_panel::CollapseSelectedEntry",
            "project_panel::Copy",
            "project_panel::CopyPath",
            "project_panel::Cut",
            "project_panel::ExpandSelectedEntry",
            "project_panel::NewDirectory",
            "project_panel::NewFile",
            "project_panel::NewSearchInDirectory",
            "project_panel::Open",
            "project_panel::OpenWithSystem",
            "project_panel::Paste",
            "project_panel::Rename",
            "project_panel::RevealInFileManager",
            "project_panel::ToggleFocus",
            "project_search::SearchInNew",
            "project_search::ToggleFilters",
            "project_search::ToggleFocus",
            "project_symbols::Toggle",
            "projects::OpenRecent",
            "projects::OpenRemote",
            "prompt_library::NewPrompt",
            "prompt_library::ToggleDefaultPrompt",
            "repl::Run",
            "repl::RunInPlace",
            "search::FocusSearch",
            "search::NextHistoryQuery",
            "search::PreviousHistoryQuery",
            "search::ReplaceAll",
            "search::ReplaceNext",
            "search::SelectAllMatches",
            "search::SelectNextMatch",
            "search::SelectPrevMatch",
            "search::ToggleCaseSensitive",
            "search::ToggleRegex",
            "search::ToggleReplace",
            "search::ToggleSelection",
            "search::ToggleWholeWord",
            "tab_switcher::CloseSelectedItem",
            "tab_switcher::Toggle",
            "task::Rerun",
            "task::Spawn",
            "terminal::Clear",
            "terminal::Copy",
            "terminal::Paste",
            "terminal::ScrollLineDown",
            "terminal::ScrollLineUp",
            "terminal::ScrollPageDown",
            "terminal::ScrollPageUp",
            "terminal::ScrollToBottom",
            "terminal::ScrollToTop",
            "terminal::ShowCharacterPalette",
            "terminal::ToggleViMode",
            "terminal_panel::ToggleFocus",
            "theme_selector::Toggle",
            "workspace::ActivatePaneDown",
            "workspace::ActivatePaneLeft",
            "workspace::ActivatePaneRight",
            "workspace::ActivatePaneUp",
            "workspace::CloseAllDocks",
            "workspace::CloseInactiveTabsAndPanes",
            "workspace::CloseWindow",
            "workspace::CopyRelativePath",
            "workspace::FollowNextCollaborator",
            "workspace::NewFile",
            "workspace::NewTerminal",
            "workspace::NewWindow",
            "workspace::Open",
            "workspace::Save",
            "workspace::SaveAll",
            "workspace::SaveAs",
            "workspace::SaveWithoutFormat",
            "workspace::SwapPaneDown",
            "workspace::SwapPaneLeft",
            "workspace::SwapPaneRight",
            "workspace::SwapPaneUp",
            "workspace::ToggleBottomDock",
            "workspace::ToggleLeftDock",
            "workspace::ToggleRightDock",
            "workspace::ToggleZoom",
            "workspace::Unfollow",
            "zed::DebugElements",
            "zed::Extensions",
            "zed::OpenKeymap",
            "zed::OpenSettings",
            "zed::Quit",
            "zed::ToggleFullScreen"
          ],
          "description": "An action with no arguments"
        },
        {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "enum": [
                "editor::FoldAtLevel",
                "editor::MoveToBeginningOfLine",
                "editor::MoveToEndOfLine",
                "editor::SelectNext",
                "editor::SelectPrevious",
                "editor::SelectToBeginningOfLine",
                "editor::SelectToEndOfLine",
                "editor::ToggleComments",
                "pane::ActivateItem",
                "pane::CloseActiveItem",
                "pane::CloseAllItems",
                "pane::CloseCleanItems",
                "pane::CloseInactiveItems",
                "pane::CloseItemsToTheLeft",
                "pane::CloseItemsToTheRight",
                "pane::DeploySearch",
                "picker::ConfirmInput",
                "project_panel::Delete",
                "project_panel::Trash",
                "tab_switcher::Toggle",
                "task::Spawn",
                "terminal::SendKeystroke",
                "terminal::SendText",
                "workspace::ActivatePane",
                "zed::DecreaseBufferFontSize",
                "zed::IncreaseBufferFontSize",
                "zed::ResetBufferFontSize"
              ],
              "description": "An action with arguments"
            },
            "args": {
              "type": "array",
              "description": "Arguments to the action"
            }
          },
          "required": [
            "action",
            "args"
          ]
        }
      ],
      "description": "The action to be performed in the zed editor (https://zed.dev/docs/key-bindings#actions)"
    },
    "zed-editor-context": {
      "type": "string",
      "enum": [
        "!Terminal",
        "(CollabPanel && editing) > Editor",
        "ApplicationMenu",
        "AssistantPanel",
        "AssistantPanel2",
        "BufferSearchBar",
        "BufferSearchBar && !in_replace > Editor",
        "BufferSearchBar && in_replace > Editor",
        "ChannelModal",
        "ChannelModal > Picker > Editor",
        "CollabPanel && not_editing",
        "ContextEditor > Editor",
        "ContextStrip",
        "Editor",
        "Editor && !edit_prediction",
        "Editor && (showing_code_actions || showing_completions)",
        "Editor && edit_prediction",
        "Editor && edit_prediction_conflict",
        "Editor && jupyter && !ContextEditor",
        "Editor && mode == auto_height",
        "Editor && mode == full",
        "Editor && mode == full && edit_prediction",
        "Editor && renaming",
        "Editor && showing_code_actions",
        "Editor && showing_completions",
        "FileFinder || (FileFinder > Picker > Editor) || (FileFinder > Picker > menu)",
        "GitCommit > Editor",
        "GitPanel && ChangesList",
        "GitPanel > Editor",
        "Markdown",
        "MessageEditor > Editor",
        "OutlinePanel && not_editing",
        "Pane",
        "Picker > Editor",
        "Picker || menu",
        "ProjectPanel",
        "ProjectPanel && not_editing",
        "ProjectSearchBar",
        "ProjectSearchBar && !in_replace",
        "ProjectSearchBar && in_replace > Editor",
        "ProjectSearchBar > Editor",
        "ProjectSearchView",
        "Prompt",
        "PromptEditor",
        "PromptLibrary",
        "ProposedChangesEditor",
        "TabSwitcher",
        "Terminal",
        "ThreadHistory",
        "Workspace",
        "ZedPredictModal"
      ],
      "description": "The context in which the action is performed in the zed editor (https://zed.dev/docs/key-bindings#contexts)"
    },

    "micro-context": {
      "type": "string",
      "enum": [
        "buffer",
        "command",
        "terminal"
      ]
    },
    "micro-action": {
      "type": "string",
      "enum": [
        "AddTab",
        "Autocomplete",
        "Backspace",
        "Center",
        "ClearInfo",
        "ClearStatus",
        "CommandMode",
        "Copy",
        "CopyLine",
        "CursorDown",
        "CursorEnd",
        "CursorLeft",
        "CursorPageDown",
        "CursorPageUp",
        "CursorRight",
        "CursorStart",
        "CursorToViewBottom",
        "CursorToViewCenter",
        "CursorToViewTop",
        "CursorUp",
        "Cut",
        "CutLine",
        "Delete",
        "DeleteLine",
        "DeleteSubWordLeft",
        "DeleteSubWordRight",
        "DeleteWordLeft",
        "DeleteWordRight",
        "DiffNext",
        "DiffPrevious",
        "DuplicateLine",
        "End",
        "EndOfLine",
        "Find",
        "FindLiteral",
        "FindNext",
        "FindPrevious",
        "FirstSplit",
        "FirstTab",
        "HSplit",
        "HalfPageDown",
        "HalfPageUp",
        "IndentLine",
        "IndentSelection",
        "InsertNewline",
        "InsertSpace",
        "InsertTab",
        "JumpLine",
        "JumpToMatchingBrace",
        "LastSplit",
        "LastTab",
        "MoveLinesDown",
        "MoveLinesUp",
        "NextSplit",
        "NextTab",
        "None",
        "OpenFile",
        "OutdentLine",
        "OutdentSelection",
        "PageDown",
        "PageUp",
        "ParagraphNext",
        "ParagraphPrevious",
        "Paste",
        "PlayMacro",
        "PreviousSplit",
        "PreviousTab",
        "Quit",
        "QuitAll",
        "Redo",
        "RemoveAllMultiCursors",
        "RemoveMultiCursor",
        "ResetSearch",
        "Save",
        "SaveAll",
        "SaveAs",
        "ScrollDown",
        "ScrollUp",
        "SelectAll",
        "SelectDown",
        "SelectLeft",
        "SelectLine",
        "SelectPageDown",
        "SelectPageUp",
        "SelectRight",
        "SelectSubWordLeft",
        "SelectSubWordRight",
        "SelectToEnd",
        "SelectToEndOfLine",
        "SelectToParagraphNext",
        "SelectToParagraphPrevious",
        "SelectToStart",
        "SelectToStartOfLine",
        "SelectToStartOfText",
        "SelectToStartOfTextToggle",
        "SelectUp",
        "SelectWordLeft",
        "SelectWordRight",
        "ShellMode",
        "SkipMultiCursor",
        "SkipMultiCursorBack",
        "SpawnMultiCursor",
        "SpawnMultiCursorDown",
        "SpawnMultiCursorSelect",
        "SpawnMultiCursorUp",
        "Start",
        "StartOfLine",
        "StartOfText",
        "StartOfTextToggle",
        "SubWordLeft",
        "SubWordRight",
        "Suspend",
        "ToggleDiffGutter",
        "ToggleHelp",
        "ToggleMacro",
        "ToggleRuler",
        "Undo",
        "Unsplit",
        "VSplit",
        "WordLeft",
        "WordRight"
      ]
    }
  },
  "properties": {
    "bindings": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The generic name of the binding, used inside nix expressions"
          },
          "zed-editor": {
            "type": "object",
            "properties": {
              "context": {
                "type": "string",
                "$ref": "#/definitions/zed-editor-context"
              },
              "action": {
                "oneOf": [
                  {
                    "type": "string",
                    "$ref": "#/definitions/zed-editor-action"
                  },
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/zed-editor-action"
                    }
                  }
                ]
              }
            },
            "required": [
              "action"
            ]
          },
          "vscode": {
            "type": "object",
            "properties": {
              "context": {
                "type": "string"
              },
              "action": {
                "type": "string"
              },
              "additionalProperties": false
            },
            "required": [
              "context",
              "action"
            ]
          },
          "micro": {
            "type": [ "null", "object"],
            "properties": {
              "context": {
                "type": ["string"],
                "$ref": "#/definitions/micro-context"
              },
              "action": {
                "type": "string",
                "$ref": "#/definitions/micro-action"
              },
              "additionalProperties": false
            },
            "required": [
              "action"
            ]
          }
        },
        "required": [
          "name",
          "zed-editor",
          "vscode",
          "micro"
        ],
        "additionalProperties": false
      }
    }
  },
  "required": [
    "bindings"
  ],
  "additionalProperties": true
}
